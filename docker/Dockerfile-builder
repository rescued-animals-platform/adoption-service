FROM gradle:6.3.0-jdk11

ARG arg_spring_profile=docker
ARG arg_adoption_service_url=http://adoption-service:8080

ENV SPRING_PROFILE=$arg_spring_profile
ENV ADOPTION_SERVICE_URL=$arg_adoption_service_url
ENV DUMMY_JWT=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InNrc2hkYjgydHUzYm5pb3NodWprbnNraGRiYmprc2JvM3UifQ.eyJpc3MiOiJodHRwOi8vd2lyZW1vY2s6ODA4MC8iLCJzdWIiOiIxMjM0NTY3ODkwIiwiYXVkIjoiaHR0cHM6Ly9hbmltYWxlcy1yZXNjYXRhZG9zL3NlcnZpY2lvLWFkb3BjaW9uZXMuZWMiLCJpYXQiOjE1ODY2MzcwNDIsImV4cCI6OTA4NjcyMzQ0MiwicGVybWlzc2lvbnMiOlsicmVhZDphbmltYWxzIiwiY3JlYXRlOmFuaW1hbHMiLCJ1cGRhdGU6b3JnYW5pemF0aW9uIl19.Sy7CKGjNJXd3dVPN6fGoOBRTeugZ_dq24PJnp2WB_xQC2A76cUEdy9dytaGAbBO6MTCcoDtoS1m986u2yPpqgb8I5IwTC3cd-DUSqCyLLreuDJadHPcC8OOD3E4LcZwuWzzK0iBP8J730Ga_orvztPVClXEny5otL4YmKu2Af4Qd3SBUb8C5h9N9crtntcEuZJeZomYav2A1D7h4p17ndQDypHbcN-FIjT5Zv1YPSZpNik6nw4lQukCsES0p-rBsEdJWEZjmwKipV9TEMZd2Y_eSi3TW4K0KG0w9bggXvOMEc4B1DAVPDqGPBukN7Orth8Cgmib5b85HUL1VWiSpYg

COPY --chown=gradle:gradle . /app
WORKDIR /app