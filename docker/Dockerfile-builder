FROM gradle:6.3.0-jdk11

ARG arg_spring_profile=docker
ARG arg_adoption_service_url=http://adoption-service:8080

ENV SPRING_PROFILE=$arg_spring_profile
ENV ADOPTION_SERVICE_URL=$arg_adoption_service_url
ENV JWT_ACCESS_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InNrc2hkYjgydHUzYm5pb3NodWprbnNraGRiYmprc2JvM3UifQ.eyJpc3MiOiJodHRwOi8vd2lyZW1vY2s6ODA4MC8iLCJzdWIiOiIxMjM0NTY3ODkwIiwiYXVkIjoiaHR0cHM6Ly9hbmltYWxlcy1yZXNjYXRhZG9zL3NlcnZpY2lvLWFkb3BjaW9uZXMuZWMiLCJpYXQiOjE1ODY2MzcwNDIsImV4cCI6OTA4NjcyMzQ0MiwiaHR0cHM6Ly9hZG9wdGlvbi1zZXJ2aWNlL29yZ2FuaXphdGlvbl9pZCI6IjU2MDA5MTE5LTQ0YmQtNDY5YS1hNTliLTQwMWFiMjNkMTljYSIsInBlcm1pc3Npb25zIjpbInJlYWQ6YW5pbWFscyIsImNyZWF0ZTphbmltYWxzIiwidXBkYXRlOm9yZ2FuaXphdGlvbiJdfQ.MdJs8-5XrkHiFqgKQdsNyyV5q42g1CXkxCpNAAmBPp7YL2IgSIm6bPJfAC-n3Xofh6H2Cpa8qCd61nluofn4Bn1FegBOYVsijalz6-fOTUvGuxqLkz3rss4Jm4vnmf_AjMggI7NOkncBTc1PtDKzgOc6xCgPukZqooJqlw6OWp6XvGVtDDgjN6mpJZV3JPMI4ti641wGLTJbvEfXzz129lIqY5O6CpaJ58CWaZSrFyzoRkURbeW9hVufW5aDtw6k_eeeUZfSxuo5F5o-csEY3i-7ScPFxAnL_3RsGYW2mtlQ-DpsMzLaG35gijxUf-80Y3-ZAZlTf1I1r2Mp9zak2A

COPY --chown=gradle:gradle . /app
WORKDIR /app