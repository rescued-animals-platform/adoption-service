FROM gradle:6.3.0-jdk11

ARG arg_spring_profile=docker
ARG arg_adoption_service_url=http://adoption-service:8080

ENV SPRING_PROFILE=$arg_spring_profile
ENV ADOPTION_SERVICE_URL=$arg_adoption_service_url
ENV ADMIN_JWT=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InNrc2hkYjgydHUzYm5pb3NodWprbnNraGRiYmprc2JvM3UifQ.eyJpc3MiOiJodHRwOi8vd2lyZW1vY2s6ODA4MC8iLCJzdWIiOiIxMjM0NTY3ODkwIiwiYXVkIjoiaHR0cHM6Ly9hbmltYWxlcy1yZXNjYXRhZG9zL3NlcnZpY2lvLWFkb3BjaW9uZXMuZWMiLCJpYXQiOjE1ODY2MzcwNDIsImV4cCI6OTA4NjcyMzQ0Mn0.R_FFF8-jQg-FDgU5trxVNrfQKrDcu3nCUaOEaEtbsA7W_SGa5z4iXA7iDeq64PYax31N8JzsLicGa1vxJR_USiGEjnhjx7ic0emKxoMmY51oovTdFNKDP7f1Lc2tWCfZO2clDDk-5YLx5oZGFAu8RuXfkroMq6D6bZ7NQGkK2tOLjiMmxslVWvETxDULW8lRt2B2kZAWJ5PLnjtwV9JJltxDuuu5GVMY6EFYEJxreHGgwBNutYsNVnosDiLiJ3sG6fu4FR-iYtzmYcmz4tP_pG3apVrLZ0pnbopcvGOUx0wbPZkpBTwhXCVBP8eJs55AuaEdt-l2Rgk7AK7nE9aXEQ

COPY --chown=gradle:gradle . /app
WORKDIR /app